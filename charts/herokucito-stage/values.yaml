# Stage-specific config (injected by ApplicationSet)
stage:
  promotion:
    method: git # "git" (commit to valuesRepo) or "direct" (argocd-update with image params)
  # App chart info (required when promotion.method=direct for direct image updates)
  appChart:
    repoURL: ""
    chart: ""
  valuesRepo:
    url: null
    branch: null
    path: null # e.g., staging/rendered_values.yaml

# ============================================================
# Same structure as herokucito-app values
# ============================================================

services: {}
# services:
#   backend:
#     image:
#       repository: myregistry/backend
#       tag: latest
#       source:
#         type: semver                   # "semver", "lexical", "digest", or "upstream"
#         constraint: "^1.x"             # for type: semver - semver constraint
#         pattern: "v*"                  # for type: lexical - tag glob pattern
#         tag: "latest"                  # for type: digest - mutable tag to track
#         stage: staging                 # for type: upstream - upstream stage name
#     port: 8080
#     resources: small
#     dependencies: [db]
#     routes:
#       - host: myapp.example.com
#         path: /api

dependencies: {}

hooks:
  pre-deploy: []
  post-deploy: []

jobs: {}
