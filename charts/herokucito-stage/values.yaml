# Variables for substitution (injected by ApplicationSet)
vars: {}

# Project-level defaults (injected by ApplicationSet, can be overridden per-stage)
projectDefaults:
  promotion:
    method: "" # empty means use chart default (git)
    warehouse: "" # empty means use chart default (images)

# Stage-specific config (injected by ApplicationSet)
stage:
  promotion:
    method: "" # if empty, uses projectDefaults.promotion.method, then falls back to "git"
    warehouse: "" # if empty, uses projectDefaults.promotion.warehouse, then falls back to "images"
  # App chart info (required when promotion.method=direct for direct image updates)
  appChart:
    repoURL: ""
    chart: ""
  valuesRepo:
    url: null
    branch: null
    path: null # e.g., staging/rendered_values.yaml

# ============================================================
# Same structure as herokucito-app values
# ============================================================

services: {}
# services:
#   backend:
#     image:
#       repository: myregistry/backend
#       tag: latest
#       source:
#         type: semver                   # "semver", "lexical", "digest", or "upstream"
#         constraint: "^1.x"             # for type: semver - semver constraint
#         pattern: "v*"                  # for type: lexical - tag glob pattern
#         tag: "latest"                  # for type: digest - mutable tag to track
#         stage: staging                 # for type: upstream - upstream stage name
#     port: 8080
#     resources: small
#     dependencies: [db]
#     routes:
#       - host: myapp.example.com
#         path: /api

dependencies: {}

hooks:
  pre-deploy: []
  post-deploy: []

jobs: {}
